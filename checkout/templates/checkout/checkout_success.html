{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container animate__animated animate__fadeIn animate__slower">
   <div class="row">
      <div class="col">
        <h2>Thank You </h2>
        <p class="text-black">Your order information is below. A confirmation email will be sent to <strong>{{ order.email }}</strong>.</p>
      </div>
   </div>
   <div class="row">
      <div class="col-12 col-lg-7">
         <div class="order-complete">
            <div class="row">
               <div class="col">
                  <small class="order-headings">Order Info:</small>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Order Number:</p>
               </div>
               <div class="col-12 col-md-4 text-md-right">
                  <p class="mb-0">{{ order.order_number }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Order Date:</p>
               </div>
               <div class="col-12 col-md-4 text-md-right">
                  <p class="mb-0">{{ order.purchase_date }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col">
                  <small class="order-headings">Order Details:</small>
               </div>
            </div>
            {% for item in order.lineitems.all %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="small mb-0 text-black font-weight-bold">
                     {{ item.course.name }}
                  </p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="small mb-0">{{ item.quantity }} @ ${{ item.course.price }} each</p>
               </div>
            </div>
            {% endfor %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Full Name</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.full_name }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Address 1</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.street_address1 }}</p>
               </div>
            </div>
            {% if order.street_address2 %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Address 2</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.street_address1 }}</p>
               </div>
            </div>
            {% endif %}
            {% if order.county %}    
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">County</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.county }}</p>
               </div>
            </div>
            {% endif %}   
            {% if order.postcode %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Postal Code</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.postcode }}</p>
               </div>
            </div>
            {% endif %}        
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Country</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.country }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Phone Number</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="mb-0">{{ order.phone_number }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col">
                  <small class="order-headings">Billing Info:</small>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">Order Total:</p>
               </div>
               <div class="col-12 col-md-4 text-md-right">
                  <p class="mb-0">{{ order.order_total }}</p>
               </div>
            </div>
          <hr style="height:3px;;background-color:green">
         </div>
      </div>
   </div>
</div>

<div class="row checkout-success-btn" data-aos="fade-up" data-aos-duration="1000">
   <div class="col-12 col-lg-7 text-right">
      <a href="{% url 'courses' %}" class="btn">    
      <span>View more courses!</span>
      </a>
   </div>
</div>
{% endblock %}